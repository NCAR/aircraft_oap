# -*- python -*-

Import('PREFIX')

env = Environment()

env.Append(CCFLAGS='-g -Wall')

tools = ['default', 'netcdf']

env.Append(CPPPATH = PREFIX)
env.Append(CPPPATH = PREFIX+'/include')
env.Append(CPPPATH = PREFIX+'/raf')
env.Append(CPPPATH = PREFIX+'/vardb/lib')

env.Append(LIBPATH = PREFIX+'/lib')
env.Append(LIBPATH=[PREFIX+'/raf'])
env.Append(LIBPATH=[PREFIX+'/vardb/lib'])

env.Append(LIBS = ['VarDB', 'raf', 'netcdf_c++', 'netcdf', 'hdf5_hl', 'hdf5'])

sources = Split("""
process2d.cpp
netcdf.cpp
probe.cpp
ProbeData.cpp
""")

env.Program(target = 'process2d', source = sources)

env.Alias('install', env.Install(PREFIX+'/bin', 'process2d'))
